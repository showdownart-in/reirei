 {{ 'product-card.css' | asset_url | stylesheet_tag }}
<script src="{{ 'product-card.js' | asset_url }}" defer="defer"></script>

{% liquid
  assign current_variant = product.selected_or_first_available_variant
  assign image = current_product_variant.featured_image | default: product.featured_image
  
%}

<product-cart-element
  class="product-card2 "
  data-section-id="{{ sectionId }}"
  data-product-url="{{ product.url }}"
>
  <div class="productMain_container">
    <div class="product-image-container">
      <a href="{{ product.url }}" class="product-image-snippet">
        {% render 'picture', class: ' first-image', mobileSrc: image, desktopSrc: image %}
      </a>
      
    </div>

    <div class="product-card__info">
      <p class="product-vendor">{{ product.vendor }}</p>
      <a href="{{ product.url }}" class="product-title">
        {{ product.title }}
      </a>


      {% assign discount_percentage = 0 %}
{% if current_variant.compare_at_price > current_variant.price %}
  {% assign discount_amount = current_variant.compare_at_price | minus: current_variant.price %}
  {% assign discount_percentage = discount_amount | times: 100.0 | divided_by: current_variant.compare_at_price | round %}
{% endif %}

<div class="price-container">
  <p class="product-price{% if discount_percentage > 50 %} red-price{% endif %}">{{ current_variant.price | money }}</p>
  <s>{{ current_variant.compare_at_price | money }}</s>
</div>

      <div class="cart-and-whishlist">
      <div class="my-btn custom-buy-btn {% unless current_variant.available %}disabled-btn{% endunless %}">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-basket" viewBox="0 0 16 16">
          <path d="M5.757 1.071a.5.5 0 0 1 .172.686L3.383 6h9.234L10.07 1.757a.5.5 0 1 1 .858-.514L13.783 6H15a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1v4.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 13.5V9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h1.217L5.07 1.243a.5.5 0 0 1 .686-.172zM2 9v4.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V9zM1 7v1h14V7zm3 3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 4 10m2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 6 10m2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 8 10m2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5m2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5"/>
        </svg>
    </div>
    <div style=“text-align: end;“>{% render 'hulkapps-wishlist-collection-btn', productId: product.id, variantId: product.selected_or_first_available_variant.id %}</div>
    </div>
    </div>

  </div>

  <script>
    {{ product.variants | json }}
  </script>
</product-cart-element>
